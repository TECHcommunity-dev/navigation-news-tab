<script type="text/discourse-plugin" version="0.8" nonce="db65c632e74b92dd893da114111d6f40">

api.addNavigationBarItem({
  name: "link-to-knowledge-base-category",
  displayName: "Knowledge base",
  title: "Knowledge base",
  init: (navItem, category) => {  	
	navItem.href = `/tags/c/knowledge-base/6/${navItem.tagId}`;
  },
  customFilter: (category, args) => {
	const tag = args.tagId;
    const tagCheck = tag && tag !== "none" && tag !== "all";
    return tagCheck;
  },
  forceActive: (category, args, router) => {
    const categoryCheck = category && category.name === "Knowledge base";
    const urlCheck = router.currentURL.indexOf(`/c/knowledge-base/${args.tagId}`);
    const filterCheck = router.currentRouteName === "tags.showCategory";
    return categoryCheck && urlCheck && filterCheck;
  }
});


api.addNavigationBarItem({
  name: "link-to-forum-category",
  displayName: "Forum discussions",
  title: "Questions, answers and discussions",
  init: (navItem, category) => {
	navItem.href = `/tags/c/forum/1/${navItem.tagId}`;
  },
  customFilter: (category, args) => {
	const tag = args.tagId;
    const tagCheck = tag && tag !== "none" && tag !== "all";
    return tagCheck;
  },
  forceActive: (category, args, router) => {
    const categoryCheck = category && category.name === "Forum";
    const urlCheck = router.currentURL.indexOf(`/c/forum/${args.tagId}`);
    const filterCheck = router.currentRouteName === "tags.showCategory";
    return categoryCheck && urlCheck && filterCheck;
  }
});

api.addNavigationBarItem({
  name: "link-to-news-category",
  displayName: "News & Announcements",
  title: "News & Announcements",
  init: (navItem, category) => {
	navItem.href = `/tags/c/news/7/${navItem.tagId}`;
  },
  customFilter: (category, args) => {
	const tag = args.tagId;
    const tagCheck = tag && tag !== "none" && tag !== "all";
    return tagCheck;
  },
  forceActive: (category, args, router) => {
    const categoryCheck = category && category.name === "News";
    const urlCheck = router.currentURL.indexOf(`/c/news/${args.tagId}`);
    const filterCheck = router.currentRouteName === "tags.showCategory";
    return categoryCheck && urlCheck && filterCheck;
  }
});
</script>
